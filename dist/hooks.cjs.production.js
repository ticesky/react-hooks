"use strict";var e=require("@babel/runtime/helpers/toConsumableArray");var r=require("@babel/runtime/helpers/regeneratorRuntime");var n=require("@babel/runtime/helpers/objectSpread2");var t=require("@babel/runtime/helpers/asyncToGenerator");var a=require("@babel/runtime/helpers/slicedToArray");var u=require("react");function l(l,s){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=u.useState({loading:c,error:null,data:null}),o=a(i,2),f=o[0],p=o[1];var v=u.useRef(false);var b=u.useRef([]);var d=u.useCallback(t(r().mark((function e(){var t,a,u,s,c=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:p((function(e){return n(n({},e),{},{loading:true,error:null})}));for(t=c.length,a=new Array(t),u=0;u<t;u++){a[u]=c[u]}b.current=a;r.prev=3;r.next=6;return l.apply(void 0,a);case 6:s=r.sent;p({loading:false,error:null,data:s});r.next=13;break;case 10:r.prev=10;r.t0=r["catch"](3);p({loading:false,error:r.t0,data:null});case 13:case"end":return r.stop()}}),e,null,[[3,10]])}))),[l]);u.useEffect((function(){if(v.current||c){if(typeof s==="function"){s.apply(void 0,[f].concat(e(b.current)))}}}),[f]);u.useEffect((function(){v.current=true}),[]);return[f,d]}function s(){var e=u.useState(0),r=a(e,2),n=r[1];return u.useCallback((function(){return n((function(e){return e+1}))}),[])}exports.useAsyncBase=l;exports.useForceUpdate=s;
