"use strict";var e=require("@babel/runtime/helpers/toConsumableArray");var r=require("@babel/runtime/helpers/regeneratorRuntime");var n=require("@babel/runtime/helpers/objectSpread2");var t=require("@babel/runtime/helpers/asyncToGenerator");var u=require("@babel/runtime/helpers/slicedToArray");var a=require("react");function c(c,l){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var s=a.useState({loading:o,error:null,data:null}),i=u(s,2),f=i[0],v=i[1];var p=a.useRef(false);var b=a.useRef([]);var d=a.useCallback(t(r().mark((function e(){var t,u,a,l,o=arguments;return r().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:v((function(e){return n(n({},e),{},{loading:true,error:null})}));for(t=o.length,u=new Array(t),a=0;a<t;a++){u[a]=o[a]}b.current=u;r.prev=3;r.next=6;return c.apply(void 0,u);case 6:l=r.sent;v({loading:false,error:null,data:l});r.next=13;break;case 10:r.prev=10;r.t0=r["catch"](3);v({loading:false,error:r.t0,data:null});case 13:case"end":return r.stop()}}),e,null,[[3,10]])}))),[c]);a.useEffect((function(){if(p.current||o){if(typeof l==="function"){l.apply(void 0,[f].concat(e(b.current)))}}}),[f]);a.useEffect((function(){p.current=true}),[]);return[f,d]}function l(){var e=a.useState(0),r=u(e,2),n=r[1];return a.useCallback((function(){return n((function(e){return e+1}))}),[])}function o(e,r){var n=a.useRef();var t=l();var u=a.useRef(r);a.useMemo((function(){n.current=u.current?u.current(e):e}),[e]);var c=a.useCallback((function(e){var r=typeof e==="function"?e(n.current):e;n.current=r;t()}),[t]);return[n.current,c]}function s(e,r){var n=a.useRef(null);var t=a.useRef(e);a.useEffect((function(){if(r!==null){e();return function(){if(n.current){clearTimeout(n.current);n.current=null}}}return;function e(){t.current();n.current=setTimeout(e,r||0)}}),[r])}exports.useAsyncBase=c;exports.useForceUpdate=l;exports.useHalfControlState=o;exports.useInterval=s;
